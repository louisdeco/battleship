(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],A=o.base?c[0]+o.base:c[0],l=a[A]||0,p="".concat(A," ").concat(l);a[A]=l+1;var u=t(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(d);else{var f=r(d,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=o(n,r),A=0;A<a.length;A++){var l=t(a[A]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var A=0;A<n.length;A++){var l=[].concat(n[A]);o&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},621:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(354),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap);"]),i.push([n.id,"/* Custom font */\n\n/*\n  Lucho's Custom CSS Reset, inspired by Josh's Custom CSS Reset\n  @https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\na {\n  text-decoration: none;\n  color: inherit;\n}\n\ndialog {\n  border: none;\n  outline: none;\n  max-width: 100%;\n  padding: 0;\n}\n\n/* General */\n:root {\n  font-family: 'Rubik', sans-serif;\n  --spacing-xss: 0.5rem;\n  --spacing-xs: 1rem;\n  --spacing-s: 2rem;\n  --spacing-m: 3rem;\n  --spacing-l: 4rem;\n  --spacing-xl: 6rem;\n  --spacing-xxl: 8rem;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n}\n\n/* Header */\nheader {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: clamp(130px, 25%, 220px);\n  font-size: calc(2.5rem + 1vw);\n}\n\n/* Game */\n.game {\n  height: 70%;\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  gap: var(--spacing-l);\n  align-items: center;\n}\n\n.player1-grid,\n.player2-grid {\n  display: grid;\n  grid: repeat(10, 1fr) / repeat(10, 1fr);\n  width: clamp(300px, 35%, 600px);\n  aspect-ratio: 1/1;\n  border: 1px solid black;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n\n.grid-cell {\n  border: 1px solid black;\n  transition: background-color 0.2s ease;\n}\n\n.player2-grid > .grid-cell:hover {\n  background-color: #ace7ff;\n  cursor: pointer;\n}\n\n.hit {\n  background-color: #ffabab !important;\n}\n\n.miss {\n  background-color: #c4faf8;\n}\n\n.ship {\n  background-color: #717888;\n}\n\n/* Footer */\nfooter {\n  height: clamp(15px, 5%, 40px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nfooter p,\nfooter a {\n  color: rgba(0, 0, 0, 0.7);\n}\n\nfooter a:hover {\n  color: black;\n  transition: color 0.2s ease;\n}\n\n/* Dialog */\ndialog:not([open]) {\n  display: none !important;\n  pointer-events: none;\n}\n\ndialog:open {\n  opacity: 1;\n  transform: translate(-50%, -50%) scale(1);\n}\n\ndialog {\n  opacity: 0;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0.85);\n  transition:\n    opacity 0.3s ease,\n    transform 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.ship-placement {\n  padding: var(--spacing-s);\n  gap: var(--spacing-xs);\n}\n\n.ship-placement > p {\n  font-size: calc(1rem + 0.5vw);\n}\n\ndialog > button {\n  color: white;\n  background-color: black;\n  border-radius: 7px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  padding: var(--spacing-xss) var(--spacing-s);\n  transition:\n    all 0.3s ease,\n    scale 0.2s ease;\n}\n\n.rotate {\n  font-size: calc(1rem + 0.7vw);\n}\n\ndialog > button:hover {\n  scale: 1.1;\n}\n\n.placement-grid {\n  display: grid;\n  grid: repeat(10, 1fr) / repeat(10, 1fr);\n  width: clamp(200px, 30vw, 500px);\n  aspect-ratio: 1/1;\n  border: 1px solid black;\n}\n\n.ship-preview {\n  background-color: #d6e5bd;\n}\n\n.invalid-placement {\n  background-color: #ffcbe1;\n}\n\ndialog::backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.endgame {\n  padding: var(--spacing-l);\n  border-radius: 10px;\n  gap: var(--spacing-s);\n  width: clamp(300px, 35vw, 600px);\n}\n\n.endgame-message {\n  font-size: calc(2rem + 0.8vw);\n}\n\n.play-again {\n  font-size: calc(2rem + 1vw);\n}\n","",{version:3,sources:["webpack://./src/css/styles.css"],names:[],mappings:"AAAA,gBAAgB;;AAGhB;;;CAGC;AACD;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,gBAAgB;EAChB,mCAAmC;AACrC;;AAEA;;;;;EAKE,cAAc;EACd,eAAe;AACjB;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;;;;;;EAOE,yBAAyB;AAC3B;;AAEA;;EAEE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,UAAU;AACZ;;AAEA;EACE,qBAAqB;EACrB,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;EACf,UAAU;AACZ;;AAEA,YAAY;AACZ;EACE,gCAAgC;EAChC,qBAAqB;EACrB,kBAAkB;EAClB,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,aAAa;EACb,YAAY;AACd;;AAEA,WAAW;AACX;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,gCAAgC;EAChC,6BAA6B;AAC/B;;AAEA,SAAS;AACT;EACE,WAAW;EACX,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;;EAEE,aAAa;EACb,uCAAuC;EACvC,+BAA+B;EAC/B,iBAAiB;EACjB,uBAAuB;EACvB,yCAAyC;AAC3C;;AAEA;EACE,uBAAuB;EACvB,sCAAsC;AACxC;;AAEA;EACE,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA,WAAW;AACX;EACE,6BAA6B;EAC7B,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;;EAEE,yBAAyB;AAC3B;;AAEA;EACE,YAAY;EACZ,2BAA2B;AAC7B;;AAEA,WAAW;AACX;EACE,wBAAwB;EACxB,oBAAoB;AACtB;;AAEA;EACE,UAAU;EACV,yCAAyC;AAC3C;;AAEA;EACE,UAAU;EACV,QAAQ;EACR,SAAS;EACT,4CAA4C;EAC5C;;uBAEqB;EACrB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,sBAAsB;AACxB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,YAAY;EACZ,uBAAuB;EACvB,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,eAAe;EACf,4CAA4C;EAC5C;;mBAEiB;AACnB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,uCAAuC;EACvC,gCAAgC;EAChC,iBAAiB;EACjB,uBAAuB;AACzB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,qBAAqB;EACrB,gCAAgC;AAClC;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,2BAA2B;AAC7B",sourcesContent:["/* Custom font */\n@import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');\n\n/*\n  Lucho's Custom CSS Reset, inspired by Josh's Custom CSS Reset\n  @https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\na {\n  text-decoration: none;\n  color: inherit;\n}\n\ndialog {\n  border: none;\n  outline: none;\n  max-width: 100%;\n  padding: 0;\n}\n\n/* General */\n:root {\n  font-family: 'Rubik', sans-serif;\n  --spacing-xss: 0.5rem;\n  --spacing-xs: 1rem;\n  --spacing-s: 2rem;\n  --spacing-m: 3rem;\n  --spacing-l: 4rem;\n  --spacing-xl: 6rem;\n  --spacing-xxl: 8rem;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n}\n\n/* Header */\nheader {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: clamp(130px, 25%, 220px);\n  font-size: calc(2.5rem + 1vw);\n}\n\n/* Game */\n.game {\n  height: 70%;\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  gap: var(--spacing-l);\n  align-items: center;\n}\n\n.player1-grid,\n.player2-grid {\n  display: grid;\n  grid: repeat(10, 1fr) / repeat(10, 1fr);\n  width: clamp(300px, 35%, 600px);\n  aspect-ratio: 1/1;\n  border: 1px solid black;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n\n.grid-cell {\n  border: 1px solid black;\n  transition: background-color 0.2s ease;\n}\n\n.player2-grid > .grid-cell:hover {\n  background-color: #ace7ff;\n  cursor: pointer;\n}\n\n.hit {\n  background-color: #ffabab !important;\n}\n\n.miss {\n  background-color: #c4faf8;\n}\n\n.ship {\n  background-color: #717888;\n}\n\n/* Footer */\nfooter {\n  height: clamp(15px, 5%, 40px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nfooter p,\nfooter a {\n  color: rgba(0, 0, 0, 0.7);\n}\n\nfooter a:hover {\n  color: black;\n  transition: color 0.2s ease;\n}\n\n/* Dialog */\ndialog:not([open]) {\n  display: none !important;\n  pointer-events: none;\n}\n\ndialog:open {\n  opacity: 1;\n  transform: translate(-50%, -50%) scale(1);\n}\n\ndialog {\n  opacity: 0;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0.85);\n  transition:\n    opacity 0.3s ease,\n    transform 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.ship-placement {\n  padding: var(--spacing-s);\n  gap: var(--spacing-xs);\n}\n\n.ship-placement > p {\n  font-size: calc(1rem + 0.5vw);\n}\n\ndialog > button {\n  color: white;\n  background-color: black;\n  border-radius: 7px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  padding: var(--spacing-xss) var(--spacing-s);\n  transition:\n    all 0.3s ease,\n    scale 0.2s ease;\n}\n\n.rotate {\n  font-size: calc(1rem + 0.7vw);\n}\n\ndialog > button:hover {\n  scale: 1.1;\n}\n\n.placement-grid {\n  display: grid;\n  grid: repeat(10, 1fr) / repeat(10, 1fr);\n  width: clamp(200px, 30vw, 500px);\n  aspect-ratio: 1/1;\n  border: 1px solid black;\n}\n\n.ship-preview {\n  background-color: #d6e5bd;\n}\n\n.invalid-placement {\n  background-color: #ffcbe1;\n}\n\ndialog::backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.endgame {\n  padding: var(--spacing-l);\n  border-radius: 10px;\n  gap: var(--spacing-s);\n  width: clamp(300px, 35vw, 600px);\n}\n\n.endgame-message {\n  font-size: calc(2rem + 0.8vw);\n}\n\n.play-again {\n  font-size: calc(2rem + 1vw);\n}\n"],sourceRoot:""}]);const s=i},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(72),r=t.n(o),a=t(825),i=t.n(a),s=t(659),c=t.n(s),A=t(56),l=t.n(A),p=t(540),u=t.n(p),d=t(113),f=t.n(d),h=t(621),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),r()(h.A,g),h.A&&h.A.locals&&h.A.locals;const m=10,E="horizontal",C="vertical",B="down",v="right",b="left",y="search",x="target",w="destroy",k=function(){const n=function(){const n=Array.from(Array(m),(()=>Array(m).fill().map((()=>({content:null,hit:!1}))))),e={};let t=1;const o=(n,e)=>n>=0&&n<m&&e>=0&&e<m;function r(e,t,r,a=!1){if(a){if(t+e>m)return!1;for(let a=t;a<t+e;a++)if(!o(a,r)||null!==n[a][r].content)return!1;return!0}if(r+e>m)return!1;for(let a=r;a<r+e;a++)if(!o(t,a)||null!=n[t][a].content)return!1;return!0}return{getBoard:()=>n,placeShip:function(a,i,s,c=!1){if(a<1||a>5)throw new Error("Ship size must be between 1 and 5");if(!o(i,s))throw new Error("Coordinates must be valid");if(!r(a,i,s,c))throw new Error("There must be enough place available for the ship");const A=function(n){if(!n)throw new Error("Ship length must be provided");const e=n;let t=0;return{getLength:()=>e,hit:()=>t+=1,isSunk:()=>t>=e,getHit:()=>t}}(a),l=t;if(e[l]=A,t+=1,c)for(let e=i;e<i+a;e++)n[e][s].content=l;else for(let e=s;e<s+a;e++)n[i][e].content=l},getShips:()=>e,receiveAttack:function(t,r){if(!o(t,r))throw new Error("Coordinates must be valid");if(!0===n[t][r].hit)throw new Error("Position already attacked!");return n[t][r].hit=!0,"number"==typeof n[t][r].content&&(e[n[t][r].content].hit(),!0)},allShipSunk:function(){return Object.values(e).every((n=>n.isSunk()))},enoughPlace:r}}(),e={behavior:y,shipsHit:[],hits:{},potentialHits:[],axis:null,focus:null,orientation:null},t=(n,e,t)=>n.getGameBoard().receiveAttack(e,t);function o(n){const e=n.getGameBoard(),t=e.getBoard();return{opponentGameBoard:e,opponentBoard:t}}return{getGameBoard:()=>n,attack:t,autoAttack:function(n){!function(n){const{opponentBoard:t}=o(n),r=[];if(e.behavior===y)return void(e.potentialHits=t.flatMap(((n,e)=>n.map(((n,t)=>n.hit?null:[e,t])).filter(Boolean))));const[a,i]=e.hits[e.focus][0],[s,c]=e.hits[e.focus][e.hits[e.focus].length-1];e.behavior===x?r.push([a-1,i],[a+1,i],[a,i-1],[a,i+1]):e.behavior===w&&null===e.orientation?(e.axis===E&&r.push([a,i-1],[s,c+1]),e.axis===C&&r.push([a-1,i],[s+1,c])):e.behavior===w&&null!==e.orientation&&(e.orientation===B&&r.push([s+1,i]),"up"===e.orientation&&r.push([a-1,i]),e.orientation===b&&r.push([a,i-1]),e.orientation===v&&r.push([a,c+1])),e.potentialHits=r.filter((([n,e])=>n>=0&&n<m&&e>=0&&e<m&&!t[n][e].hit))}(n);const r=Math.floor(Math.random()*e.potentialHits.length),[a,i]=e.potentialHits[r];!function(n,t,r,a){if(n){const{opponentGameBoard:n,opponentBoard:i}=o(a),s=i[t][r].content;!function(n,t,o){e.shipsHit.includes(n)||e.shipsHit.push(n),e.hits[n]||(e.hits[n]=[]),e.hits[n].push([t,o]),function(n){const e=n.every((([e])=>e===n[0][0]));e?n.sort(((n,e)=>n[1]-e[1])):n.sort(((n,e)=>n[0]-e[0]))}(e.hits[n])}(s,t,r),e.focus=e.shipsHit[0],n.getShips()[s].isSunk()?(e.shipsHit.shift(),0===e.shipsHit.length?(e.behavior=y,e.axis=null,e.orientation=null,e.focus=null,e.potentialHits=[]):(e.behavior=x,e.focus=e.shipsHit[0])):e.behavior=x,e.focus&&e.hits[e.focus].length>=2&&(e.behavior=w,function(n){const[t,o]=n[0],[r,a]=n[n.length-1];t!==r||o!==a-1&&o!==a+1||(e.axis=E),o!==a||t!==r-1&&t!==r+1||(e.axis=C)}(e.hits[e.focus]))}else e.behavior===w&&null===e.orientation&&e.hits[e.focus].length>2&&function(n){const[t,o]=n,[r,a]=e.hits[e.focus][0],[i,s]=e.hits[e.focus][e.hits[e.focus].length-1];e.axis===C&&(t>i&&(e.orientation="up"),t<r&&(e.orientation=B)),e.axis===E&&(o>s&&(e.orientation=b),o<a&&(e.orientation=v))}([t,r]);e.potentialHits=[]}(t(n,a,i),a,i,n)}}},S=function(){const n=k(),e=k(),t=function(){const n=document.querySelector(".player1-grid"),e=document.querySelector(".player2-grid"),t=document.querySelector(".ship-placement"),o=document.querySelector(".placement-grid"),r=document.querySelector(".rotate"),a=document.querySelector(".endgame"),i=document.querySelector(".endgame-message"),s=document.querySelector(".play-again");function c(n){n.innerHTML="";for(let e=0;e<100;e++){const t=document.createElement("div");t.classList.add("grid-cell"),t.dataset.index=e,t.dataset.row=Math.floor(e/m),t.dataset.col=e%m,n.appendChild(t)}}function A(n,e,t=!1){e.querySelectorAll(".grid-cell").forEach((e=>{const o=parseInt(e.dataset.row),r=parseInt(e.dataset.col),a=n[o][r];e.classList.remove("ship","hit","miss"),t&&null!==a.content&&e.classList.add("ship"),a.hit&&e.classList.add(null!==a.content?"hit":"miss")}))}function l(){o.querySelectorAll(".grid-cell").forEach((n=>{n.classList.remove("ship-preview","invalid-placement")}))}function p(n,e,t,r,a){for(let i=0;i<t;i++){const t=r?n+i:n,s=r?e:e+i;if(n>=m||e>=m)continue;const c=o.querySelector(`.grid-cell[data-row="${t}"][data-col="${s}"]`);c&&c.classList.add(a)}}function u(n){return{row:parseInt(n.dataset.row),col:parseInt(n.dataset.col)}}return{initialize:function(){c(n),c(e),c(o),t.showModal()},updateBoardDisplay:function(t,o){A(t,n,!0),A(o,e)},setupAttackHandlers:function(n){e.addEventListener("click",(e=>{if(!e.target.classList.contains("grid-cell"))return;if(e.target.classList.contains("hit")||e.target.classList.contains("miss"))return;const{row:t,col:o}=u(e.target);n(t,o)}))},setupShipPlacement:function(n,e,a){let i=[...n],s=i[0],c=!1;o.querySelectorAll(".grid-cell").forEach((n=>{n.classList.remove("ship")}));const A=()=>c=!c,d=n=>{if(!n.target.classList.contains("grid-cell"))return;const{row:e,col:t}=u(n.target);l();const o=a(s.size,e,t,c);!function(n,e,t,o,r){p(n,e,t,o,r?"ship-preview":"invalid-placement")}(e,t,s.size,c,o)},f=()=>l(),h=n=>{if(!n.target.classList.contains("grid-cell")||!s)return;const{row:g,col:m}=u(n.target);a(s.size,g,m,c)&&(l(),e(s.size,g,m,c),function(n,e,t,o){p(n,e,t,o,"ship")}(g,m,s.size,c),i.length>0&&(i.shift(),0===i.length?(r.removeEventListener("click",A),o.removeEventListener("mouseover",d),o.removeEventListener("mouseout",f),o.removeEventListener("click",h),t.close()):s=i[0]))};r.addEventListener("click",A),o.addEventListener("mouseover",d),o.addEventListener("mouseout",f),o.addEventListener("click",h)},showGameOver:function(n){i.textContent=n?"You Won!":"Computer Won!",a.showModal()},setupPlayAgainButton:function(n){s.addEventListener("click",(()=>{a.close(),n()}))}}}(),o=[{name:"Carrier",size:5},{name:"Battleship",size:4},{name:"Cruiser",size:3},{name:"Submarine",size:3},{name:"Destroyer",size:2}];let r=!0,a=!1;function i(e,t,o,r){return n.getGameBoard().enoughPlace(e,t,o,r)}function s(e,t,o,r){try{return n.getGameBoard().placeShip(e,t,o,r),c(),!0}catch(n){return console.error("Error placing ship: ",n),!1}}function c(){const o=n.getGameBoard().getBoard(),r=e.getGameBoard().getBoard();t.updateBoardDisplay(o,r)}function A(o,i){if(r&&!a)try{if(n.attack(e,o,i),c(),e.getGameBoard().allShipSunk())return a=!0,void t.showGameOver(!0);r=!1,setTimeout(l,200)}catch(n){console.error("Error during computer attack: ",n)}}function l(){if(!a)try{if(e.autoAttack(n),c(),n.getGameBoard().allShipSunk())return a=!0,void t.showGameOver(!1);r=!0}catch(n){console.error("Error during computer attack: ",n)}}function p(){const n=e.getGameBoard();o.forEach((e=>{let t=!1;for(;!t;){const o=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),a=Math.random()>.5;n.enoughPlace(e.size,o,r,a)&&(n.placeShip(e.size,o,r,a),t=!0)}}))}function u(){r=!0,a=!1;const A=k(),l=k();Object.assign(n,A),Object.assign(e,l),t.initialize(),t.setupShipPlacement(o,s,i),p(),c()}return{initialize:function(){t.initialize(),t.setupShipPlacement(o,s,i),t.setupAttackHandlers(A),t.setupPlayAgainButton(u),p(),c()}}};document.addEventListener("DOMContentLoaded",(()=>{S().initialize()}))})();
//# sourceMappingURL=bundle.js.map